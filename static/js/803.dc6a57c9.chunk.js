"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[803],{7803:function(s,e,t){t.r(e),t.d(e,{default:function(){return G}});var i=t(1413),o=t(5671),r=t(3144),n=t(136),l=t(5716),a=t(2791),u=t(885),c={mainImg:"Profile_mainImg__DCQUk",descriptionBlock:"Profile_descriptionBlock__+hTJA",mainPhoto:"Profile_mainPhoto__hdIAG",contact:"Profile_contact__Kc894"},d=t(9219),p=t(184),f=function(s){var e=(0,a.useState)(!1),t=(0,u.Z)(e,2),i=t[0],o=t[1],r=(0,a.useState)(s.status),n=(0,u.Z)(r,2),l=n[0],c=n[1];(0,a.useEffect)((function(){c(s.status)}),[s.status]);return(0,p.jsxs)("div",{children:[!i&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Status: "}),(0,p.jsx)("span",{onDoubleClick:function(){o(!0)},children:s.status||"no status"})]}),i&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:function(s){c(s.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),s.updateStatus(l)},value:l})})]})},h=t(1862),x=t(704),j=t(2031),m=(t(5158),(0,x.Z)({form:"edit-profile"})((function(s){return(0,p.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"save"})}),s.error&&(0,p.jsx)("div",{className:"formSummaryError",children:s.error}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Full name: "})," ",(0,j.Gr)("Full name","fullName",[],j.II)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking for a job: "}),(0,j.Gr)("","lookingForAJob",[],j.II,{type:"checkbox"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My professional skills: "})," ",s.profile.lookingForAJobDescription,(0,j.Gr)("My professional skills","lookingForAJobDescription",[],j.gx)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About me: "})," ",s.profile.aboutMe,(0,j.Gr)("About me","aboutMe",[],j.gx)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Contacts: "})," ",Object.keys(s.profile.contacts).map((function(s){return(0,p.jsx)("div",{className:c.contact,children:(0,p.jsxs)("b",{children:[s,": ",(0,j.Gr)(s,"contacts."+s,[],j.II)," "]})},s)}))]})]})}))),v=function(s){return(0,p.jsxs)("div",{children:[s.isOwner&&(0,p.jsx)("div",{children:(0,p.jsx)("button",{onClick:s.goToEditMode,children:"edit"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Full name: "})," ",s.profile.fullName]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking for a job: "})," ",s.profile.lookingForAJob?"yes":"no"]}),s.profile.lookingForAJob&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My professional skills: "})," ",s.profile.lookingForAJobDescription]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About me: "})," ",s.profile.aboutMe]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Contacts: "})," ",Object.keys(s.profile.contacts).map((function(e){return(0,p.jsx)(g,{contactTitle:e,contactValue:s.profile.contacts[e]})}))]})]})},g=function(s){var e=s.contactTitle,t=s.contactValue;return(0,p.jsxs)("div",{className:c.contact,children:[(0,p.jsxs)("b",{children:[e,": "]}),t]})},b=function(s){var e=(0,a.useState)(!1),t=(0,u.Z)(e,2),i=t[0],o=t[1];if(!s.profile)return(0,p.jsx)(d.Z,{});return(0,p.jsxs)("div",{className:c.profileDiv,children:[(0,p.jsx)("div",{children:(0,p.jsx)("img",{alt:" ",className:c.mainImg,src:"https://images.unsplash.com/photo-1546587348-d12660c30c50?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8NXx8bmF0dXJhbHxlbnwwfHwwfHw%3D&w=1000&q=80"})}),(0,p.jsxs)("div",{className:c.descriptionBlock,children:[(0,p.jsx)("img",{alt:" ",src:s.profile.photos.large||h,className:c.mainPhoto}),s.isOwner&&(0,p.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&s.savePhoto(e.target.files[0])}}),i?(0,p.jsx)(m,{initialValues:s.profile,profile:s.profile,onSubmit:function(e){s.saveProfile(e).then((function(){o(!1)}))}}):(0,p.jsx)(v,{goToEditMode:function(){o(!0)},profile:s.profile,isOwner:s.isOwner}),(0,p.jsx)(f,{status:s.status,updateStatus:s.updateStatus})]})]})},P=t(6070),k=t(2982),w=t(6139),_={postsBlock:"MyPosts_postsBlock__lB-pf"},y="Post_item__Yu4oG",Z=function(s){return(0,p.jsxs)("div",{className:y,children:[(0,p.jsx)("img",{alt:" ",src:"https://image.shutterstock.com/image-vector/man-icon-vector-260nw-1040084344.jpg"}),s.message,(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:"like"})," ",s.likesCount]})]})},S=t(5304),A=(0,S.D)(10),I=(0,x.Z)({form:"addNewPostForm"})((function(s){return(0,p.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)(w.Z,{component:j.gx,name:"newPostElement",placeholder:"New Post",validate:[S.C,A]})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"Add post"})})]})})),N=function(s){var e=(0,k.Z)(s.posts).reverse().map((function(s){return(0,p.jsx)(Z,{message:s.message,likesCount:s.likesCount},s.id)}));return(0,p.jsxs)("div",{className:_.postsBlock,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)("div",{children:(0,p.jsx)(I,{onSubmit:function(e){s.addPost(e.newPostElement)}})}),(0,p.jsx)("div",{className:_.posts,children:e})]})},C=t(8687),D=(0,C.$j)((function(s){return{posts:s.profilePage.posts,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(e){s((0,P.Wl)(e))}}}))(N),F="Profile_profilePage__VOKDQ",M=function(s){return(0,p.jsxs)("div",{className:F,children:[(0,p.jsx)(b,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,updateStatus:s.updateStatus,saveProfile:s.saveProfile}),(0,p.jsx)(D,{})]})},O=t(6871),B=t(1548),J=t(7781),T=function(s){(0,n.Z)(t,s);var e=(0,l.Z)(t);function t(){return(0,o.Z)(this,t),e.apply(this,arguments)}return(0,r.Z)(t,[{key:"refreshProfile",value:function(){var s=this.props.router.params.userId;s||(s=this.props.loggedUserId)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s){this.props.router.params.userId!==s.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,p.jsx)(M,(0,i.Z)((0,i.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),t}(a.Component);var G=(0,J.qC)((0,C.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,loggedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:P.et,getStatus:P.lR,updateStatus:P.Nf,savePhoto:P.Ju,saveProfile:P.Ii}),(function(s){return function(e){var t=(0,O.TH)(),o=(0,O.s0)(),r=(0,O.UO)();return(0,p.jsx)(s,(0,i.Z)((0,i.Z)({},e),{},{router:{location:t,navigate:o,params:r}}))}}),B.D)(T)},1548:function(s,e,t){t.d(e,{D:function(){return f}});var i=t(1413),o=t(5671),r=t(3144),n=t(136),l=t(5716),a=t(2791),u=t(6871),c=t(8687),d=t(184),p=function(s){return{isAuth:s.auth.isAuth}},f=function(s){var e=function(e){(0,n.Z)(a,e);var t=(0,l.Z)(a);function a(){return(0,o.Z)(this,a),t.apply(this,arguments)}return(0,r.Z)(a,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(s,(0,i.Z)({},this.props)):(0,d.jsx)(u.Fg,{to:"/login"})}}]),a}(a.Component);return(0,c.$j)(p)(e)}}}]);
//# sourceMappingURL=803.dc6a57c9.chunk.js.map